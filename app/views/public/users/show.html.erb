<body style="background-image: url('<%= asset_path('sport-908264_640.jpg') %>'); background-repeat: no-repeat; background-position: center center; background-size: cover; background-color: rgba(255,255,255,0.5);">
  
  <% if flash[:notice].present? %>
    <div class="alert alert-success bg-white">
      <%= flash[:notice] %>
    </div>
  <% end %>

  <div class="container mt-4" style="background-color: rgba(255,255,255,0.7); padding: 20px; border-radius: 10px;">
    <div class="row">
      
      <!-- „Çµ„Ç§„Éâ„Éê„Éº (Ê§úÁ¥¢ÈÉ®ÂàÜ„ÄÅ„É¶„Éº„Ç∂„Éº„Éó„É≠„Éï„ÄÅÊñ∞Ë¶èÊäïÁ®ø) -->
      <div class="col-md-3 mt-4">
        <%= render 'public/searches/search', users: @users, muscles: @muscles, range: @range %>
        <%= render 'public/muscles/muscle', muscles: @muscle, user: @user %>
      </div>

      <!-- ÊäïÁ®øÈÉ®ÂàÜ -->
      <div class="col-md-8 offset-md-1 mt-4">
        <h1>User Posts</h1>

        <div class="row">
          <% @muscles.each do |muscle| %>
            <div class="col-12 mb-4">
              <div class="card shadow-sm border-0 p-3 d-flex flex-row align-items-center" style="border-radius: 16px; background-color: #fefefe;">
                
                <!-- „Éó„É≠„Éï„Ç£„Éº„É´ÁîªÂÉè -->
                <div class="flex-shrink-0 me-4">
                  <%= link_to user_path(muscle.user) do %>
                    <%= image_tag muscle.user.get_profile_image(80, 80), class: 'rounded-circle border border-2', style: 'object-fit: cover;' %>
                  <% end %>
                </div>

                <!-- ÊäïÁ®øÂÜÖÂÆπ -->
                <div class="flex-grow-1">
                  
                  <!-- „É¶„Éº„Ç∂„ÉºÂêç -->
                  <div class="mb-2">
                    <small class="text-secondary fw-semibold">üë§ „É¶„Éº„Ç∂„ÉºÂêç</small><br>
                    <%= link_to muscle.user.name, user_path(muscle.user), class: 'fw-bold text-dark text-decoration-none fs-5' %>
                  </div>

                  <!-- „Çø„Ç§„Éà„É´ -->
                  <div class="mb-2">
                    <small class="text-secondary fw-semibold">üìù „Çø„Ç§„Éà„É´</small><br>
                    <%= link_to muscle.title, muscle_path(muscle), class: 'text-primary fs-5 text-decoration-none' %>
                  </div>

                  <!-- ÊäïÁ®øÂÜÖÂÆπ -->
                  <div class="mb-3">
                    <small class="text-secondary fw-semibold">üìÑ ÊäïÁ®ø</small>
                    <p class="text-muted mt-1 mb-0"><%= truncate(muscle.body, length: 100) %></p>
                  </div>

                  <!-- ÊäïÁ®øÊó•ÊôÇ -->
                  <div class="mb-2 text-muted">
                    <small class="text-secondary">üìÖ ÊäïÁ®øÊó•</small><br>
                    <%= muscle.created_at.strftime("%YÂπ¥%mÊúà%dÊó• %H:%M") %>
                  </div>

                  <!-- „Ç¢„ÇØ„Ç∑„Éß„É≥„Éú„Çø„É≥ -->
                  <% if current_user == muscle.user %>
                    <div class="d-flex gap-2 mt-2">
                      <%= link_to 'Á∑®ÈõÜ', edit_muscle_path(muscle), class: 'btn btn-outline-primary btn-sm px-3 rounded-pill' %>
                      <%= button_to 'ÂâäÈô§', muscle, method: :delete, data: { confirm: 'Êú¨ÂΩì„Å´ÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü' }, class: 'btn btn-outline-danger btn-sm px-3 rounded-pill' %>
                    </div>
                  <% end %>

                </div>
              </div>
            </div>
          <% end %>
        </div>

      </div>
    </div>
  </div>
</body>
